%ul.nav.nav-tabs{:role => "tablist"}
  %li.nav-item
    %a.nav-link.active{"data-toggle" => "tab", :href => "#components_graphs", :role => "tab"} Graph

  %li.nav-item
    %a.nav-link{"data-toggle" => "tab", :href => "#components_tables", :role => "tab"} Table


.tab-content
  #components_graphs.tab-pane.active{:role => "tabpanel"}
    = line_chart_with components.map(&:graph_info)

  #components_tables.tab-pane{:role => "tabpanel"}
    %table.table.tablesorter.tablesorter-default
      %thead
        %tr
          %th Description
          %th Array
          %th Install date
          %th Initial value
          %th Current Value
          %th{:colspan => "3", 'data-sorter'=>'false', 'data-filter'=>'false'}
      %tbody
        - components.each do |component|
          %tr
            %td= component.description
            %td= link_to component.comp_array.description, component.comp_array
            %td= component.install_date
            %td= number_to_currency(component.initial_value)
            %td= number_to_currency(component.current_value.round(2))
            %td= link_to 'Show', component
            %td= link_to 'Edit', edit_component_path(component)
            %td= link_to 'Destroy', component, method: :delete, data: { confirm: 'Are you sure?' }
